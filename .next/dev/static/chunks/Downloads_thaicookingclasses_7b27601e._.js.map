{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pch/Downloads/thaicookingclasses/data/default-menus.ts"],"sourcesContent":["'use client';\n\nimport { MenuItem } from '@/types/menu';\n\nexport const defaultMenus: MenuItem[] = [\n  {\n    id: 'pad-thai',\n    nameTh: 'ผัดไทย',\n    nameEn: 'Pad Thai',\n    imageUrl: '/close-up-cooking-in-wok-with-ingredients.jpg',\n    description: 'Stir-fried rice noodles with tamarind sauce, tofu, and peanuts.'\n  },\n  {\n    id: 'tom-yum-goong',\n    nameTh: 'ต้มยำกุ้ง',\n    nameEn: 'Tom Yum Goong',\n    imageUrl: '/close-up-thai-curry-dish-with-fresh-herbs.jpg',\n    description: 'Clear spicy and sour soup with lemongrass, kaffir lime leaves, and prawns.'\n  },\n  {\n    id: 'tom-kha-hed',\n    nameTh: 'ต้มข่าเห็ด',\n    nameEn: 'Tom Kha Mushroom',\n    imageUrl: '/close-up-cooking-wok-with-ingredients.jpg',\n    description: 'Coconut milk soup with galangal, mushrooms, and kaffir lime leaves.'\n  },\n  {\n    id: 'tom-kha-chicken',\n    nameTh: 'ต้มข่าไก่',\n    nameEn: 'Tom Kha Chicken',\n    imageUrl: '/close-up-cooking-in-wok-hands-stirring-ingredients.jpg',\n    description: 'Creamy coconut soup with chicken and Thai herbs.'\n  },\n  {\n    id: 'green-curry-chicken',\n    nameTh: 'แกงเขียวหวานไก่',\n    nameEn: 'Green Curry Chicken',\n    imageUrl: '/two-people-smiling-at-thai-cooking-class.jpg',\n    description: 'Freshly pounded green curry cooked with coconut milk and chicken.'\n  },\n  {\n    id: 'laab-chicken',\n    nameTh: 'ลาบไก่',\n    nameEn: 'Laab Chicken',\n    imageUrl: '/people-enjoying-meal-together-at-dining-table.jpg',\n    description: 'Isan-style minced chicken salad with roasted rice powder.'\n  },\n  {\n    id: 'fried-spring-roll',\n    nameTh: 'ปอเปี๊ยะทอด',\n    nameEn: 'Crispy Spring Roll',\n    imageUrl: '/close-up-cooking-in-wok-with-ingredients.jpg',\n    description: 'Golden fried spring rolls stuffed with vegetables and glass noodles.'\n  },\n  {\n    id: 'krapao-chicken',\n    nameTh: 'กระเพราไก่',\n    nameEn: 'Basil Chicken',\n    imageUrl: '/group-cooking-class-people-enjoying-thai-food-toge.jpg',\n    description: 'Stir-fried chicken with holy basil, garlic, and chili.'\n  },\n  {\n    id: 'krapao-mushroom',\n    nameTh: 'กระเพราเห็ด',\n    nameEn: 'Basil Mushroom',\n    imageUrl: '/couple-cooking-together-at-thai-cooking-studio.jpg',\n    description: 'Plant-based holy basil stir fry with assorted mushrooms.'\n  },\n  {\n    id: 'pad-see-ew',\n    nameTh: 'ผัดซีอิ๊ว',\n    nameEn: 'Pad See Ew',\n    imageUrl: '/group-of-people-cooking-and-laughing-together.jpg',\n    description: 'Wok-fried wide rice noodles with dark soy sauce and vegetables.'\n  },\n  {\n    id: 'panang-chicken',\n    nameTh: 'แพนงไก่',\n    nameEn: 'Panang Chicken',\n    imageUrl: '/close-up-cooking-in-wok-with-ingredients.jpg',\n    description: 'Thick coconut curry with roasted peanuts and kaffir lime leaves.'\n  },\n  {\n    id: 'crispy-tofu-tamarind',\n    nameTh: 'เต้าหู้ทอดซอสมะขาม',\n    nameEn: 'Crispy Tofu with Tamarind',\n    imageUrl: '/group-cooking-class-people-enjoying-thai-food-toge.jpg',\n    description: 'Deep-fried tofu topped with sweet-and-sour tamarind sauce.'\n  },\n  {\n    id: 'fried-rice',\n    nameTh: 'ข้าวผัดไทย',\n    nameEn: 'Thai Fried Rice',\n    imageUrl: '/rustic-thai-studio-interior-with-wooden-details-an.jpg',\n    description: 'Comforting fried rice with seasonal vegetables and proteins.'\n  },\n  {\n    id: 'yum-woon-sen',\n    nameTh: 'ยำวุ้นเส้น',\n    nameEn: 'Glass Noodle Salad',\n    imageUrl: '/students-preparing-ingredients-in-thai-kitchen.jpg',\n    description: 'Spicy and tangy glass noodle salad with herbs and crunch.'\n  },\n  {\n    id: 'fried-chicken-fish-sauce',\n    nameTh: 'ไก่ทอดน้ำปลา',\n    nameEn: 'Fried Chicken in Fish Sauce',\n    imageUrl: '/close-up-cooking-in-wok-hands-stirring-ingredients.jpg',\n    description: 'Crispy chicken finished with caramelized fish sauce glaze.'\n  },\n  {\n    id: 'grilled-chicken-sticky',\n    nameTh: 'ไก่อบกับข้าวเหนียว',\n    nameEn: 'Grilled Chicken with Sticky Rice',\n    imageUrl: '/large-group-enjoying-thai-food-and-drinks-together.jpg',\n    description: 'Herb-marinated grilled chicken served with sticky rice.'\n  },\n  {\n    id: 'tom-yum-chicken',\n    nameTh: 'ต้มยำไก่',\n    nameEn: 'Tom Yum Chicken',\n    imageUrl: '/close-up-cooking-in-wok-with-ingredients.jpg',\n    description: 'Hot and sour tom yum with chicken and Thai herbs.'\n  },\n  {\n    id: 'sticky-mango',\n    nameTh: 'ข้าวเหนียวมะม่วง',\n    nameEn: 'Mango Sticky Rice',\n    imageUrl: '/close-up-thai-curry-dish-with-fresh-herbs.jpg',\n    description: 'Fragrant sticky rice served with coconut cream and ripe mango.'\n  },\n  {\n    id: 'fried-banana',\n    nameTh: 'กล้วยทอด',\n    nameEn: 'Crispy Banana Fritters',\n    imageUrl: '/close-up-cooking-in-wok-hands-stirring-ingredients.jpg',\n    description: 'Deep-fried banana coated in light sesame batter.'\n  },\n  {\n    id: 'banana-coconut-milk',\n    nameTh: 'กล้วยบวชชี',\n    nameEn: 'Banana in Coconut Milk',\n    imageUrl: '/close-up-cooking-in-wok-with-ingredients.jpg',\n    description: 'Warm banana simmered in coconut milk with palm sugar.'\n  }\n];\n\n"],"names":[],"mappings":";;;;AAAA;AAIO,MAAM,eAA2B;IACtC;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;IACA;QACE,IAAI;QACJ,QAAQ;QACR,QAAQ;QACR,UAAU;QACV,aAAa;IACf;CACD"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/pch/Downloads/thaicookingclasses/hooks/use-menu-manager.ts"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { defaultMenus } from '@/data/default-menus';\nimport { MenuItem } from '@/types/menu';\n\nconst STORAGE_KEY = 'thai-cooking-admin-menus';\n\nconst persistMenus = (menus: MenuItem[]) => {\n  if (typeof window === 'undefined') return;\n  window.localStorage.setItem(STORAGE_KEY, JSON.stringify(menus));\n};\n\nconst safeParse = (value: string | null): MenuItem[] | null => {\n  if (!value) return null;\n  try {\n    const parsed = JSON.parse(value) as MenuItem[];\n    if (Array.isArray(parsed)) {\n      return parsed;\n    }\n    return null;\n  } catch (error) {\n    console.warn('Failed to parse menu storage', error);\n    return null;\n  }\n};\n\nexport function useMenuManager() {\n  const [menus, setMenus] = useState<MenuItem[]>(defaultMenus);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const stored = safeParse(window.localStorage.getItem(STORAGE_KEY));\n    if (stored && stored.length) {\n      setMenus(stored);\n    } else {\n      persistMenus(defaultMenus);\n    }\n    setIsLoaded(true);\n  }, []);\n\n  const updateMenus = useCallback((updater: (current: MenuItem[]) => MenuItem[]) => {\n    setMenus((current) => {\n      const next = updater(current);\n      persistMenus(next);\n      return next;\n    });\n  }, []);\n\n  const addMenu = useCallback((menu: Omit<MenuItem, 'id'>) => {\n    updateMenus((current) => [\n      ...current,\n      {\n        ...menu,\n        id: crypto.randomUUID()\n      }\n    ]);\n  }, [updateMenus]);\n\n  const updateMenu = useCallback((id: string, menu: Partial<MenuItem>) => {\n    updateMenus((current) =>\n      current.map((item) => (item.id === id ? { ...item, ...menu } : item))\n    );\n  }, [updateMenus]);\n\n  const deleteMenu = useCallback((id: string) => {\n    updateMenus((current) => current.filter((item) => item.id !== id));\n  }, [updateMenus]);\n\n  const resetMenus = useCallback(() => {\n    setMenus(defaultMenus);\n    persistMenus(defaultMenus);\n  }, []);\n\n  const menuMap = useMemo(() => {\n    const map = new Map<string, MenuItem>();\n    menus.forEach((menu) => map.set(menu.id, menu));\n    return map;\n  }, [menus]);\n\n  return {\n    menus,\n    menuMap,\n    isLoaded,\n    addMenu,\n    updateMenu,\n    deleteMenu,\n    resetMenus\n  };\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAMA,MAAM,cAAc;AAEpB,MAAM,eAAe,CAAC;IACpB;;IACA,OAAO,YAAY,CAAC,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;AAC1D;AAEA,MAAM,YAAY,CAAC;IACjB,IAAI,CAAC,OAAO,OAAO;IACnB,IAAI;QACF,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,IAAI,MAAM,OAAO,CAAC,SAAS;YACzB,OAAO;QACT;QACA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,IAAI,CAAC,gCAAgC;QAC7C,OAAO;IACT;AACF;AAEO,SAAS;;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,4MAAQ,EAAa,8KAAY;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,4MAAQ,EAAC;IAEzC,IAAA,6MAAS;oCAAC;YACR;;YACA,MAAM,SAAS,UAAU,OAAO,YAAY,CAAC,OAAO,CAAC;YACrD,IAAI,UAAU,OAAO,MAAM,EAAE;gBAC3B,SAAS;YACX,OAAO;gBACL,aAAa,8KAAY;YAC3B;YACA,YAAY;QACd;mCAAG,EAAE;IAEL,MAAM,cAAc,IAAA,+MAAW;mDAAC,CAAC;YAC/B;2DAAS,CAAC;oBACR,MAAM,OAAO,QAAQ;oBACrB,aAAa;oBACb,OAAO;gBACT;;QACF;kDAAG,EAAE;IAEL,MAAM,UAAU,IAAA,+MAAW;+CAAC,CAAC;YAC3B;uDAAY,CAAC,UAAY;2BACpB;wBACH;4BACE,GAAG,IAAI;4BACP,IAAI,OAAO,UAAU;wBACvB;qBACD;;QACH;8CAAG;QAAC;KAAY;IAEhB,MAAM,aAAa,IAAA,+MAAW;kDAAC,CAAC,IAAY;YAC1C;0DAAY,CAAC,UACX,QAAQ,GAAG;kEAAC,CAAC,OAAU,KAAK,EAAE,KAAK,KAAK;gCAAE,GAAG,IAAI;gCAAE,GAAG,IAAI;4BAAC,IAAI;;;QAEnE;iDAAG;QAAC;KAAY;IAEhB,MAAM,aAAa,IAAA,+MAAW;kDAAC,CAAC;YAC9B;0DAAY,CAAC,UAAY,QAAQ,MAAM;kEAAC,CAAC,OAAS,KAAK,EAAE,KAAK;;;QAChE;iDAAG;QAAC;KAAY;IAEhB,MAAM,aAAa,IAAA,+MAAW;kDAAC;YAC7B,SAAS,8KAAY;YACrB,aAAa,8KAAY;QAC3B;iDAAG,EAAE;IAEL,MAAM,UAAU,IAAA,2MAAO;2CAAC;YACtB,MAAM,MAAM,IAAI;YAChB,MAAM,OAAO;mDAAC,CAAC,OAAS,IAAI,GAAG,CAAC,KAAK,EAAE,EAAE;;YACzC,OAAO;QACT;0CAAG;QAAC;KAAM;IAEV,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GA/DgB"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///Users/pch/Downloads/thaicookingclasses/app/admin/course/page.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport React, { useMemo, useState } from 'react';\nimport { CalendarDays, Clock, Plus, Trash2, X } from 'lucide-react';\nimport { useMenuManager } from '@/hooks/use-menu-manager';\nimport { MenuItem } from '@/types/menu';\n\ntype DayToken = 'Mon' | 'Tue' | 'Wed' | 'Thu' | 'Fri' | 'Sat' | 'Sun';\n\ninterface MenuAssignment {\n  id: string;\n  menuId: string;\n  isMainCourse: boolean;\n  isDessert: boolean;\n  timeSlot: 'morning' | 'afternoon' | 'custom';\n  customStart?: string;\n  customEnd?: string;\n}\n\ninterface DaySchedule {\n  day: DayToken;\n  menus: MenuAssignment[];\n  capacity: number;\n  price: number;\n}\n\ninterface GeneratedCourse {\n  id: string;\n  class_date: string;\n  session: string;\n  start_time: string;\n  end_time: string;\n  capacity: number;\n  price: number;\n  detail: string;\n  tag?: string;\n}\n\ntype MenuMap = Map<string, MenuItem>;\n\nconst DAY_NAMES: Record<DayToken, string> = {\n  Mon: 'Monday',\n  Tue: 'Tuesday',\n  Wed: 'Wednesday',\n  Thu: 'Thursday',\n  Fri: 'Friday',\n  Sat: 'Saturday',\n  Sun: 'Sunday'\n};\n\nconst DAY_OFFSETS: Record<DayToken, number> = {\n  Mon: 0,\n  Tue: 1,\n  Wed: 2,\n  Thu: 3,\n  Fri: 4,\n  Sat: 5,\n  Sun: 6\n};\n\nconst createId = () => Math.random().toString(36).slice(2, 10);\n\nconst createInitialSchedule = (): DaySchedule[] => [\n  { day: 'Mon', menus: [], capacity: 12, price: 1800 },\n  { day: 'Tue', menus: [], capacity: 12, price: 1800 },\n  { day: 'Wed', menus: [], capacity: 10, price: 1900 },\n  { day: 'Thu', menus: [], capacity: 12, price: 1800 },\n  { day: 'Fri', menus: [], capacity: 14, price: 1850 },\n  { day: 'Sat', menus: [], capacity: 10, price: 2200 },\n  { day: 'Sun', menus: [], capacity: 10, price: 1750 }\n];\n\nconst getCurrentWeekMonday = () => {\n  const today = new Date();\n  const day = today.getDay();\n  const diff = (day + 6) % 7;\n  today.setHours(0, 0, 0, 0);\n  today.setDate(today.getDate() - diff);\n  return today.toISOString().split('T')[0];\n};\n\nconst formatDateRange = (start: string) => {\n  if (!start) return 'Select a start date';\n  const from = new Date(`${start}T00:00:00`);\n  const to = new Date(from);\n  to.setDate(to.getDate() + 6);\n  const format = (date: Date) =>\n    date.toLocaleDateString('th-TH', { day: 'numeric', month: 'short' });\n  return `${format(from)} - ${format(to)}`;\n};\n\nconst getDateForDay = (startDate: string, day: DayToken) => {\n  if (!startDate) return '';\n  const base = new Date(`${startDate}T00:00:00`);\n  const offset = DAY_OFFSETS[day] ?? 0;\n  const target = new Date(base);\n  target.setDate(base.getDate() + offset);\n  return target.toISOString().split('T')[0];\n};\n\nconst buildDetailHTML = (assignments: MenuAssignment[], menuMap: MenuMap) => {\n  const mainCourses: string[] = [];\n  const desserts: string[] = [];\n  const regular: string[] = [];\n\n  assignments.forEach((assignment) => {\n    const menu = menuMap.get(assignment.menuId);\n    const name = menu?.nameEn || menu?.nameTh || 'Unknown';\n    \n    if (assignment.isMainCourse) mainCourses.push(name);\n    if (assignment.isDessert) desserts.push(name);\n    if (!assignment.isMainCourse && !assignment.isDessert) regular.push(name);\n  });\n\n  const blocks: string[] = [];\n  if (mainCourses.length) {\n    blocks.push(`<strong>Main course</strong><ul>${mainCourses.map(n => `<li>${n}</li>`).join('')}</ul>`);\n  }\n  if (desserts.length) {\n    blocks.push(`<strong>Dessert</strong><ul>${desserts.map(n => `<li>${n}</li>`).join('')}</ul>`);\n  }\n  if (regular.length) {\n    blocks.push(`<strong>Other dishes</strong><ul>${regular.map(n => `<li>${n}</li>`).join('')}</ul>`);\n  }\n  \n  return blocks.join('');\n};\n\nconst formatCourseDate = (dateStr: string) => {\n  if (!dateStr) return 'Date TBD';\n  const date = new Date(`${dateStr}T00:00:00`);\n  return date.toLocaleDateString('th-TH', {\n    weekday: 'short',\n    day: 'numeric',\n    month: 'short'\n  });\n};\n\nexport default function ManageCourses() {\n  const { menus, menuMap } = useMenuManager();\n  const [weekAnchor, setWeekAnchor] = useState<string>(getCurrentWeekMonday);\n  const [schedule, setSchedule] = useState<DaySchedule[]>(createInitialSchedule);\n  const [selectedDay, setSelectedDay] = useState<DayToken | null>(null);\n  \n  // Form state for adding menu\n  const [newMenuId, setNewMenuId] = useState<string>('');\n  const [newIsMainCourse, setNewIsMainCourse] = useState(false);\n  const [newIsDessert, setNewIsDessert] = useState(false);\n  const [newTimeSlot, setNewTimeSlot] = useState<'morning' | 'afternoon' | 'custom'>('morning');\n  const [newCustomStart, setNewCustomStart] = useState('09:00');\n  const [newCustomEnd, setNewCustomEnd] = useState('12:30');\n\n  const generatedCourses = useMemo(() => {\n    if (!weekAnchor) return [];\n\n    const courses: GeneratedCourse[] = [];\n\n    schedule.forEach((daySchedule) => {\n      const classDate = getDateForDay(weekAnchor, daySchedule.day);\n      \n      const morningMenus = daySchedule.menus.filter(m => m.timeSlot === 'morning');\n      const afternoonMenus = daySchedule.menus.filter(m => m.timeSlot === 'afternoon');\n      const customMenus = daySchedule.menus.filter(m => m.timeSlot === 'custom');\n\n      if (morningMenus.length > 0) {\n        courses.push({\n          id: `${daySchedule.day}-morning`,\n          class_date: classDate,\n          session: `${DAY_NAMES[daySchedule.day]} Morning Class`,\n          start_time: '09:00',\n          end_time: '12:30',\n          capacity: daySchedule.capacity,\n          price: daySchedule.price,\n          detail: buildDetailHTML(morningMenus, menuMap)\n        });\n      }\n\n      if (afternoonMenus.length > 0) {\n        courses.push({\n          id: `${daySchedule.day}-afternoon`,\n          class_date: classDate,\n          session: `${DAY_NAMES[daySchedule.day]} Afternoon Class`,\n          start_time: '14:00',\n          end_time: '17:30',\n          capacity: daySchedule.capacity,\n          price: daySchedule.price,\n          detail: buildDetailHTML(afternoonMenus, menuMap)\n        });\n      }\n\n      customMenus.forEach((menu) => {\n        courses.push({\n          id: `${daySchedule.day}-${menu.id}`,\n          class_date: classDate,\n          session: `${DAY_NAMES[daySchedule.day]} Custom Time`,\n          start_time: menu.customStart || '09:00',\n          end_time: menu.customEnd || '12:00',\n          capacity: daySchedule.capacity,\n          price: daySchedule.price,\n          detail: buildDetailHTML([menu], menuMap),\n          tag: 'Custom'\n        });\n      });\n    });\n\n    return courses;\n  }, [schedule, weekAnchor, menuMap]);\n\n  const selectedDaySchedule = selectedDay\n    ? schedule.find(s => s.day === selectedDay)\n    : null;\n\n  const handleUpdateDaySettings = (day: DayToken, updates: Partial<DaySchedule>) => {\n    setSchedule(prev =>\n      prev.map(s => (s.day === day ? { ...s, ...updates } : s))\n    );\n  };\n\n  const handleAddMenu = () => {\n    if (!selectedDay || !newMenuId) return;\n\n    const newAssignment: MenuAssignment = {\n      id: createId(),\n      menuId: newMenuId,\n      isMainCourse: newIsMainCourse,\n      isDessert: newIsDessert,\n      timeSlot: newTimeSlot,\n      customStart: newTimeSlot === 'custom' ? newCustomStart : undefined,\n      customEnd: newTimeSlot === 'custom' ? newCustomEnd : undefined\n    };\n\n    setSchedule(prev =>\n      prev.map(s =>\n        s.day === selectedDay\n          ? { ...s, menus: [...s.menus, newAssignment] }\n          : s\n      )\n    );\n\n    // Reset form\n    setNewMenuId('');\n    setNewIsMainCourse(false);\n    setNewIsDessert(false);\n    setNewTimeSlot('morning');\n  };\n\n  const handleRemoveMenu = (day: DayToken, menuId: string) => {\n    setSchedule(prev =>\n      prev.map(s =>\n        s.day === day\n          ? { ...s, menus: s.menus.filter(m => m.id !== menuId) }\n          : s\n      )\n    );\n  };\n\n  const sortedMenus = useMemo(() => {\n    return [...menus].sort((a, b) =>\n      (a.nameEn || a.nameTh).localeCompare(b.nameEn || b.nameTh, 'th')\n    );\n  }, [menus]);\n\n  return (\n    <div className=\"min-h-screen py-10\" style={{ backgroundColor: '#f5f1ed' }}>\n      <div className=\"max-w-[95%] mx-auto space-y-10\">\n        <header className=\"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between\">\n          <div>\n            <p className=\"uppercase tracking-[0.3em] text-xs\" style={{ color: '#8b6f47' }}>\n              Thai cooking studio\n            </p>\n            <h1 className=\"text-4xl font-light\" style={{ color: '#3d2817' }}>\n              Weekly course scheduler\n            </h1>\n            <p className=\"text-sm mt-2 max-w-2xl\" style={{ color: '#7a5f3d' }}>\n              เลือกวันเพื่อจัดตารางเมนู กำหนดประเภท และเวลาสอน\n            </p>\n          </div>\n          <label className=\"flex items-center gap-3 px-4 py-2 rounded-xl border bg-white shadow-sm\" style={{ borderColor: '#e5dcd4' }}>\n            <CalendarDays size={18} style={{ color: '#8b6f47' }} />\n            <div className=\"flex flex-col text-sm\">\n              <span className=\"text-xs uppercase tracking-wide\" style={{ color: '#b29373' }}>\n                Week anchor (Monday)\n              </span>\n              <input\n                type=\"date\"\n                value={weekAnchor}\n                onChange={(e) => setWeekAnchor(e.target.value)}\n                className=\"text-base focus:outline-none\"\n                style={{ color: '#3d2817' }}\n              />\n            </div>\n          </label>\n        </header>\n\n        {/* Weekly Overview */}\n        <section className=\"bg-white rounded-2xl shadow border\" style={{ borderColor: '#e5dcd4' }}>\n          <div className=\"px-6 py-5 border-b\" style={{ borderColor: '#e5dcd4' }}>\n            <h2 className=\"text-2xl font-light\" style={{ color: '#3d2817' }}>\n              สัปดาห์นี้ (Mon–Sun)\n            </h2>\n            <p className=\"text-sm mt-1\" style={{ color: '#7a5f3d' }}>\n              คลิกวันเพื่อจัดการเมนู\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 p-6\">\n            {schedule.map((daySchedule) => (\n              <button\n                key={daySchedule.day}\n                onClick={() => setSelectedDay(daySchedule.day)}\n                className={`p-4 rounded-xl border-2 transition text-left ${\n                  selectedDay === daySchedule.day\n                    ? 'border-[#8b6f47] bg-[#fff7ef]'\n                    : 'border-[#e5dcd4] hover:border-[#d4c5b5]'\n                }`}\n              >\n                <p className=\"text-xs uppercase tracking-wide\" style={{ color: '#8b6f47' }}>\n                  {daySchedule.day}\n                </p>\n                <p className=\"text-lg font-light mt-1\" style={{ color: '#3d2817' }}>\n                  {DAY_NAMES[daySchedule.day]}\n                </p>\n                <p className=\"text-xs mt-2\" style={{ color: '#b29373' }}>\n                  {daySchedule.menus.length} เมนู\n                </p>\n              </button>\n            ))}\n          </div>\n        </section>\n\n        {/* Day Editor */}\n        {selectedDay && selectedDaySchedule && (\n          <section className=\"bg-white rounded-2xl shadow border\" style={{ borderColor: '#e5dcd4' }}>\n            <div className=\"flex items-center justify-between px-6 py-5 border-b\" style={{ borderColor: '#e5dcd4' }}>\n              <div>\n                <p className=\"text-xs uppercase tracking-[0.3em]\" style={{ color: '#b29373' }}>\n                  จัดการเมนู\n                </p>\n                <h3 className=\"text-2xl font-light\" style={{ color: '#3d2817' }}>\n                  {DAY_NAMES[selectedDay]}\n                </h3>\n              </div>\n              <button\n                onClick={() => setSelectedDay(null)}\n                className=\"p-2 rounded-lg hover:bg-[#f5f1ed]\"\n              >\n                <X size={20} style={{ color: '#8b6f47' }} />\n              </button>\n            </div>\n\n            {/* Day Settings */}\n            <div className=\"px-6 py-4 bg-[#fffdf8] border-b\" style={{ borderColor: '#e5dcd4' }}>\n              <div className=\"grid gap-4 md:grid-cols-2\">\n                <div>\n                  <label className=\"text-xs uppercase tracking-wide block mb-1\" style={{ color: '#8b6f47' }}>\n                    Capacity (จำนวนคน)\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={selectedDaySchedule.capacity}\n                    onChange={(e) =>\n                      handleUpdateDaySettings(selectedDay, {\n                        capacity: Number(e.target.value) || 0\n                      })\n                    }\n                    className=\"w-full border rounded-lg px-3 py-2\"\n                    style={{ borderColor: '#e5dcd4' }}\n                    min={0}\n                  />\n                </div>\n                <div>\n                  <label className=\"text-xs uppercase tracking-wide block mb-1\" style={{ color: '#8b6f47' }}>\n                    Price (฿)\n                  </label>\n                  <input\n                    type=\"number\"\n                    value={selectedDaySchedule.price}\n                    onChange={(e) =>\n                      handleUpdateDaySettings(selectedDay, {\n                        price: Number(e.target.value) || 0\n                      })\n                    }\n                    className=\"w-full border rounded-lg px-3 py-2\"\n                    style={{ borderColor: '#e5dcd4' }}\n                    min={0}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Add Menu Form */}\n            <div className=\"px-6 py-5 space-y-4\">\n              <h4 className=\"text-lg font-light\" style={{ color: '#3d2817' }}>\n                เพิ่มเมนูใหม่\n              </h4>\n\n              <div>\n                <label className=\"text-xs uppercase tracking-wide block mb-2\" style={{ color: '#8b6f47' }}>\n                  เลือกเมนู\n                </label>\n                <select\n                  value={newMenuId}\n                  onChange={(e) => setNewMenuId(e.target.value)}\n                  className=\"w-full border rounded-xl px-4 py-2 text-sm\"\n                  style={{ borderColor: '#e5dcd4', backgroundColor: '#fffdfa' }}\n                >\n                  <option value=\"\">เลือกเมนู...</option>\n                  {sortedMenus.map((menu) => (\n                    <option key={menu.id} value={menu.id}>\n                      {menu.nameEn || menu.nameTh} · {menu.nameTh}\n                    </option>\n                  ))}\n                </select>\n                <p className=\"text-xs mt-2\" style={{ color: '#7a5f3d' }}>\n                  ต้องการเพิ่มเมนูใหม่?{' '}\n                  <Link href=\"/admin/menu\" className=\"underline\" style={{ color: '#8b6f47' }}>\n                    เปิดหน้าจัดการเมนู\n                  </Link>\n                </p>\n              </div>\n\n              <div>\n                <label className=\"text-xs uppercase tracking-wide block mb-2\" style={{ color: '#8b6f47' }}>\n                  ประเภทเมนู\n                </label>\n                <div className=\"flex flex-wrap gap-3\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={newIsMainCourse}\n                      onChange={(e) => setNewIsMainCourse(e.target.checked)}\n                      className=\"w-4 h-4 rounded\"\n                    />\n                    <span className=\"text-sm\" style={{ color: '#3d2817' }}>Main Course</span>\n                  </label>\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={newIsDessert}\n                      onChange={(e) => setNewIsDessert(e.target.checked)}\n                      className=\"w-4 h-4 rounded\"\n                    />\n                    <span className=\"text-sm\" style={{ color: '#3d2817' }}>Dessert</span>\n                  </label>\n                </div>\n                <p className=\"text-xs mt-2\" style={{ color: '#b29373' }}>\n                  ถ้าไม่ติ๊กจะถือว่าเป็นเมนูธรรมดา\n                </p>\n              </div>\n\n              <div>\n                <label className=\"text-xs uppercase tracking-wide block mb-2\" style={{ color: '#8b6f47' }}>\n                  ช่วงเวลา\n                </label>\n                <div className=\"flex flex-wrap gap-3\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"timeSlot\"\n                      value=\"morning\"\n                      checked={newTimeSlot === 'morning'}\n                      onChange={(e) => setNewTimeSlot(e.target.value as any)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm\" style={{ color: '#3d2817' }}>\n                      เช้า (09:00-12:30)\n                    </span>\n                  </label>\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"timeSlot\"\n                      value=\"afternoon\"\n                      checked={newTimeSlot === 'afternoon'}\n                      onChange={(e) => setNewTimeSlot(e.target.value as any)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm\" style={{ color: '#3d2817' }}>\n                      บ่าย (14:00-17:30)\n                    </span>\n                  </label>\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"radio\"\n                      name=\"timeSlot\"\n                      value=\"custom\"\n                      checked={newTimeSlot === 'custom'}\n                      onChange={(e) => setNewTimeSlot(e.target.value as any)}\n                      className=\"w-4 h-4\"\n                    />\n                    <span className=\"text-sm\" style={{ color: '#3d2817' }}>\n                      กำหนดเอง\n                    </span>\n                  </label>\n                </div>\n              </div>\n\n              {newTimeSlot === 'custom' && (\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-xs uppercase tracking-wide block mb-1\" style={{ color: '#8b6f47' }}>\n                      เวลาเริ่ม\n                    </label>\n                    <input\n                      type=\"time\"\n                      value={newCustomStart}\n                      onChange={(e) => setNewCustomStart(e.target.value)}\n                      className=\"w-full border rounded-lg px-3 py-2\"\n                      style={{ borderColor: '#e5dcd4' }}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"text-xs uppercase tracking-wide block mb-1\" style={{ color: '#8b6f47' }}>\n                      เวลาจบ\n                    </label>\n                    <input\n                      type=\"time\"\n                      value={newCustomEnd}\n                      onChange={(e) => setNewCustomEnd(e.target.value)}\n                      className=\"w-full border rounded-lg px-3 py-2\"\n                      style={{ borderColor: '#e5dcd4' }}\n                    />\n                  </div>\n                </div>\n              )}\n\n              <button\n                onClick={handleAddMenu}\n                disabled={!newMenuId}\n                className=\"inline-flex items-center gap-2 px-5 py-2 rounded-full text-sm text-white disabled:opacity-50\"\n                style={{ backgroundColor: '#3d2817' }}\n              >\n                <Plus size={16} />\n                เพิ่มเมนู\n              </button>\n            </div>\n\n            {/* Menu List */}\n            <div className=\"px-6 py-5 border-t\" style={{ borderColor: '#e5dcd4' }}>\n              <h4 className=\"text-lg font-light mb-4\" style={{ color: '#3d2817' }}>\n                เมนูที่เลือกไว้ ({selectedDaySchedule.menus.length})\n              </h4>\n\n              {selectedDaySchedule.menus.length === 0 ? (\n                <p className=\"text-sm italic text-center py-8\" style={{ color: '#b29373' }}>\n                  ยังไม่มีเมนูสำหรับวันนี้\n                </p>\n              ) : (\n                <div className=\"space-y-3\">\n                  {selectedDaySchedule.menus.map((assignment) => {\n                    const menu = menuMap.get(assignment.menuId);\n                    const menuName = menu?.nameEn || menu?.nameTh || 'Unknown';\n                    \n                    return (\n                      <div\n                        key={assignment.id}\n                        className=\"flex items-start justify-between gap-4 p-4 rounded-xl border\"\n                        style={{ borderColor: '#f1e6db', backgroundColor: '#fffdf8' }}\n                      >\n                        <div className=\"flex-1\">\n                          <p className=\"font-medium\" style={{ color: '#3d2817' }}>\n                            {menuName}\n                          </p>\n                          <div className=\"flex flex-wrap gap-2 mt-2\">\n                            {assignment.isMainCourse && (\n                              <span className=\"text-xs px-2 py-0.5 rounded-full\" style={{ backgroundColor: '#e8f5e9', color: '#2e7d32' }}>\n                                Main Course\n                              </span>\n                            )}\n                            {assignment.isDessert && (\n                              <span className=\"text-xs px-2 py-0.5 rounded-full\" style={{ backgroundColor: '#fff3e0', color: '#e65100' }}>\n                                Dessert\n                              </span>\n                            )}\n                            {!assignment.isMainCourse && !assignment.isDessert && (\n                              <span className=\"text-xs px-2 py-0.5 rounded-full\" style={{ backgroundColor: '#f5f1ed', color: '#8b6f47' }}>\n                                Regular\n                              </span>\n                            )}\n                            <span className=\"text-xs flex items-center gap-1\" style={{ color: '#8b6f47' }}>\n                              <Clock size={12} />\n                              {assignment.timeSlot === 'morning' && '09:00-12:30'}\n                              {assignment.timeSlot === 'afternoon' && '14:00-17:30'}\n                              {assignment.timeSlot === 'custom' && `${assignment.customStart}-${assignment.customEnd}`}\n                            </span>\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => handleRemoveMenu(selectedDay, assignment.id)}\n                          className=\"p-2 rounded-lg hover:bg-[#f3dfd7] transition\"\n                          style={{ color: '#c1513b' }}\n                        >\n                          <Trash2 size={16} />\n                        </button>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        {/* Generated Courses */}\n        <section className=\"bg-white rounded-2xl shadow border px-6 py-6\" style={{ borderColor: '#e5dcd4' }}>\n          <div className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-5\">\n            <div>\n              <p className=\"text-xs uppercase tracking-[0.3em]\" style={{ color: '#b29373' }}>\n                Auto generated\n              </p>\n              <h3 className=\"text-2xl font-light\" style={{ color: '#3d2817' }}>\n                คอร์สที่สร้างจากตาราง\n              </h3>\n            </div>\n            <div className=\"text-sm flex items-center gap-2\" style={{ color: '#8b6f47' }}>\n              <CalendarDays size={16} />\n              <span>{formatDateRange(weekAnchor)}</span>\n            </div>\n          </div>\n\n          {generatedCourses.length === 0 ? (\n            <div className=\"border rounded-2xl px-4 py-6 text-center text-sm\" style={{ borderColor: '#f1e6db', color: '#8b6f47' }}>\n              เพิ่มเมนูในตารางเพื่อดูคอร์สที่สร้างอัตโนมัติ\n            </div>\n          ) : (\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {generatedCourses.map((course) => (\n                <div\n                  key={course.id}\n                  className=\"border rounded-2xl px-4 py-4 flex flex-col gap-2\"\n                  style={{ borderColor: '#f1e6db', backgroundColor: '#fffdf8' }}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <p className=\"text-base font-medium\" style={{ color: '#3d2817' }}>\n                      {course.session}\n                    </p>\n                    {course.tag && (\n                      <span className=\"text-[11px] uppercase tracking-wide px-2 py-0.5 rounded-full\" style={{ backgroundColor: '#f5d5d5', color: '#c1513b' }}>\n                        {course.tag}\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm\" style={{ color: '#8b6f47' }}>\n                    {formatCourseDate(course.class_date)} · {course.start_time} – {course.end_time}\n                  </p>\n                  <div className=\"flex gap-4 text-sm\" style={{ color: '#7a5f3d' }}>\n                    <span>Capacity: {course.capacity} guests</span>\n                    <span>฿{course.price}</span>\n                  </div>\n                  {course.detail ? (\n                    <div\n                      className=\"text-sm space-y-1\"\n                      style={{ color: '#3d2817' }}\n                      dangerouslySetInnerHTML={{ __html: course.detail }}\n                    />\n                  ) : (\n                    <p className=\"text-sm italic\" style={{ color: '#b29373' }}>\n                      No menu details yet.\n                    </p>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}